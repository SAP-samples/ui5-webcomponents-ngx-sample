<ui5-shellbar id="shellbar" [primary-title]="'SHELLBAR_TITLE' | ui5I18n" [show-notifications]="true"
    notifications-count="{{getNotificationCount()}}" (notifications-click) = "viewNotifications($event.target)" (profile-click) = "onProfileClick($event.target)">
        <ui5-avatar slot = "profile" [interactive]="true" >
            <img [src]="userData.picture" [alt]="'ALT_PROFILE_PIC' | ui5I18n"  />
        </ui5-avatar> 
    <img class="logo" slot="logo" src="assets/images/SAP_logo.webp" [alt]="'ALT_LOGO' | ui5I18n" />
    <ui5-button icon="nav-back" slot="startButton"></ui5-button>
    <ui5-input slot="searchField" [placeholder]="'SEARCH_PLACEHOLDER' | ui5I18n"></ui5-input>
    <ui5-shellbar-item icon="palette" (click)="setThemeDialogOpen()"
        [text]="'CHOOSE_THEME' | ui5I18n"></ui5-shellbar-item>
    <ui5-shellbar-item icon="translate" (click)="setLanguageDialogOpen()"
        [text]="'CHOOSE_LANGUAGE' | ui5I18n"></ui5-shellbar-item>
</ui5-shellbar>


<ui5-popover #profileSettingsPopover
	id="profile-pop"
	placement-type="Bottom"
	horizontal-align="Right"
	>
		<div class="profile__settings__list">
			<ui5-list mode="SingleSelect" separators="None" (item-click)="handleProfileSettingsSelect($event)" >
				<ui5-li icon="settings" data-key="settings">Settings</ui5-li>
				<ui5-li icon="sys-help" data-key="help">Help</ui5-li>
				<ui5-li icon="log" data-key="sign-out">Sign out</ui5-li>
			</ui5-list>
		</div>
	</ui5-popover>

<!-- Theme select dialog -->
<ui5-dialog [header-text]="'CHOOSE_THEME' | ui5I18n" [open]="themeDialogOpen"
    [accessible-name]="'CHOOSE_THEME' | ui5I18n">
    <div id="themeRadioGroup">
        <div *ngFor="let theme of themes">
            <ui5-radio-button #themeRadioValue [text]="theme.displayName" [value]="theme.usageName" value-state="None"
                [checked]="theme.usageName===currentTheme" (change)="setSelectedTheme(themeRadioValue.value)"
                name="ThemeGroup"></ui5-radio-button>
        </div>
    </div>
    <div class="dialog__footer" slot="footer">
        <ui5-button design="Emphasized" (click)="switchTheme()">{{'APPLY' | ui5I18n}}</ui5-button>
        <ui5-button class="dialog__footer__button" (click)="setThemeDialogOpen()">{{'CANCEL' | ui5I18n}}</ui5-button>
    </div>
</ui5-dialog>

<!-- Language select dialog -->
<ui5-dialog [header-text]="'CHOOSE_LANGUAGE' | ui5I18n" [open]="languageDialogOpen"
    [accessible-name]="'CHOOSE_LANGUAGE' | ui5I18n">
    <div id="languageRadioGroup">
        <div *ngFor="let language of languages">
            <ui5-radio-button #languageRadioValue [text]="language.displayName" [value]="language.usageName"
                value-state="None" [checked]="language.usageName===currentLanguage"
                (change)="setSelectedLanguage(languageRadioValue.value)" name="languageGroup"></ui5-radio-button>
        </div>
    </div>
    <div class="dialog__footer" slot="footer">
        <ui5-button design="Emphasized" (click)="switchLanguage()">{{'APPLY' | ui5I18n}}</ui5-button>
        <ui5-button class="dialog__footer__button" (click)="setLanguageDialogOpen()">{{'CANCEL' | ui5I18n}}</ui5-button>
    </div>
</ui5-dialog>

<!-- User data -->
<ui5-dialog [stretch]="true" [header-text]="'USER ACCOUNT'" [open]="AccountSelected"
    [accessible-name]="'Personal Info' ">

    <ui5-shellbar>
        <ui5-shellbar-item icon="add-equipment" [text]="'SIGN OUT'"></ui5-shellbar-item>
     </ui5-shellbar>

    <!-- Normal user interface -->

    <div  *ngIf = "!editAccountSelected" >
        <nav class = "leftbox">
            <ui5-avatar [size]="'XL'" id = "user__name">
                <img [src]="userData.picture" [alt]="'ALT_PROFILE_PIC' | ui5I18n"  />
            </ui5-avatar>
        </nav>
        <div class = "rightbox">
            <h1 class = "user__title">{{(user.firstName + user.lastName) | ui5I18n}}</h1>
            <hr>

            <ul class = "user__contents"> 
                <li><p class = "user__item"><strong class = "user__item__title">Travel Type:</strong>{{userData.typeOfTraveller}}</p></li>
                <li><p class = "user__item"><strong class = "user__item__title">Class:</strong>{{userData.class}}</p></li>
                <li><p class = "user__item"><strong class = "user__item__title">Years together:</strong>{{userData.yearsOfLoyalty}}</p></li>
                <li><p class = "user__item"><strong class = "user__item__title">Age:</strong>{{userData.age}} Years</p></li>
                <li><p class = "user__item"><strong class = "user__item__title">Gender:</strong>{{userData.gender}}</p></li>
                <li><p class = "user__item"><strong class = "user__item__title">Email:</strong>{{userData.email}}</p></li>
            </ul>
        </div>
    </div>

<!-- Edit interface -->
<div *ngIf = "editAccountSelected">
    <nav class = "leftbox">
        <ui5-avatar [size]="'XL'" id = "user__name">
            <img [src]="userData.picture" [alt]="'ALT_PROFILE_PIC' | ui5I18n"  />
        </ui5-avatar>
    </nav>
    <div class = "rightbox">
        <div class = "edit__name__section">
            <h2>First Name:</h2>
            <ui5-input slot="searchField" [placeholder]="newUserData.firstName" (input) = "updateValue($event,'first-name')"></ui5-input>
            <h2>Last Name:</h2>
            <ui5-input slot="searchField" [placeholder]="newUserData.lastName" (input) = "updateValue($event,'last-name')"></ui5-input>
         </div>
        <h2>Age:</h2>
        <ui5-input slot="searchField" type = "Number" [placeholder]="newUserData.age.toString()" (input) = "updateValue($event,'age')" ></ui5-input>
        <h2>Email:</h2>
        <ui5-input slot="searchField" type = "Email" [placeholder]="newUserData.email" (input) = "updateValue($event,'email')"></ui5-input>
        <h2>Gender:</h2>
        <ui5-radio-button text="Male"  value-state="None" name="GroupA"></ui5-radio-button>
        <ui5-radio-button text="Female" [checked] =  "true"  value-state="None" name="GroupA"></ui5-radio-button>
        <ui5-radio-button text="Other" value-state="None" name="GroupA"></ui5-radio-button>
    </div>
 
    <!-- footer -->
    
</div>
<div class="dialog__footer" slot="footer" *ngIf = "!editAccountSelected">
    <ui5-button design="Emphasized" (click)="setEditAccount('ACCESS')">{{'Edit' | ui5I18n}}</ui5-button>
    <ui5-button class="dialog__footer__button" (click)="setEnterAccount()">{{'Exit' | ui5I18n}}</ui5-button>
</div>
<div class="dialog__footer" slot="footer" *ngIf = "editAccountSelected">
    <ui5-button design="Negative" (click)="confirmEdit()">{{'APPLY' | ui5I18n}}</ui5-button>
    <ui5-button class="dialog__footer__button" design = "Attention" (click)="setEditAccount('UNDO')">{{'UNDO' | ui5I18n}}</ui5-button>
    <ui5-button class="dialog__footer__button" (click)="setEditAccount('ACCESS')">{{'CANCEL' | ui5I18n}}</ui5-button>
</div>
</ui5-dialog>


<!-- notification -->

<ui5-popover #notificationsPopOver
    class = "notification__form"
	placement-type="Top"
	horizontal-align="Right"
	>
  
   <div *ngFor = "let item of notificationsTypeArray">
    <div *ngFor = "let notification of notificationArray; let i =index;">
        <ui5-li-notification 
        *ngIf = "isPriorityTheSame(item.notificationType,notification.notificationPriority)"
        [show-close] ="true"
        [priority] = "castToType(item.notificationType)"
        title-text="Important"
        (close) = "removeNotification(i)">
        {{notification.notificationInformation}}
        </ui5-li-notification>
    </div>
   </div>

   <ui5-li-notification *ngIf = "notificationArray.length === 0"
        priority = "None"
        title-text="NO NEW NOTIFICATIONS"
        >
   </ui5-li-notification>
   
</ui5-popover>





<ui5-title class="title" level="H2" *ngIf="isDataAvailable">
    {{'WELCOME' | ui5I18n}}{{'COMMA' | ui5I18n}}{{user.firstName}}
    <span class="hidden-at-mobile"> {{user.lastName}}</span>
    !
</ui5-title>

<ui5-tabcontainer class="show-at-desktop hidden-at-tablet hidden-at-mobile" header-background-design="Solid"
    content-background-design="Solid" [fixed]="true" [collapsed]="true">
    <ui5-tab [text]="'FLIGHT_INFO' | ui5I18n"></ui5-tab>
    <ui5-tab [text]="'PLAN_A_TRIP' | ui5I18n"></ui5-tab>
    <ui5-tab [text]="'PAST_TRIPS' | ui5I18n"></ui5-tab>
    <ui5-tab [text]="'ABOUT_US' | ui5I18n"></ui5-tab>
    <ui5-tab [text]="'CONTACTS' | ui5I18n"></ui5-tab>
</ui5-tabcontainer>

<ui5-tabcontainer class="hidden-at-desktop show-at-tablet hidden-at-mobile" [collapsed]=" true" [fixed]="true">
    <ui5-tab [text]="'FLIGHT_INFO' | ui5I18n"></ui5-tab>
    <ui5-tab [text]="'PLAN_A_TRIP' | ui5I18n">
        <ui5-tab slot="subTabs" [text]="'FIND_A_DESTINATION' | ui5I18n"></ui5-tab>
    </ui5-tab>
    <ui5-tab [text]="'PAST_TRIPS' | ui5I18n">
        <ui5-tab slot="subTabs" [text]="'DOMESTIC_TRIPS' | ui5I18n">
            <ui5-tab *ngFor="let trip of domestic" slot="subTabs" text="{{trip.departureAbb}} - {{trip.arrivalAbb}}">
            </ui5-tab>
        </ui5-tab>
        <ui5-tab slot="subTabs" [text]="'INTERNATIONAL_TRIPS' | ui5I18n">
            <ui5-tab *ngFor="let trip of international" slot="subTabs"
                text="{{trip.departureAbb}} - {{trip.arrivalAbb}}">
            </ui5-tab>
        </ui5-tab>
    </ui5-tab>
</ui5-tabcontainer>

<ui5-tabcontainer class="hidden-at-desktop hidden-at-tablet show-at-mobile" header-background-design="Solid"
    content-background-design="Solid" [fixed]="true" [collapsed]="true">
    <ui5-tab [text]="'FLIGHT_INFO' | ui5I18n"></ui5-tab>
    <ui5-tab [text]="'PLAN_A_TRIP' | ui5I18n"></ui5-tab>
</ui5-tabcontainer>




